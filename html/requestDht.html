<!DOCTYPE html>
<html>
<head>
<style>
table, td, th {
    border: 1px solid black;
    padding: 0px;
    border-spacing: 0px;
}
</style>
</head>
<body onload="myFunction()">

<button onclick="myFunction()">Get</button>
<br/>
Temperature: <span id="temp"></span>
<br/>
Humidity: <span id="hum"></span>


<table id="dhtTable">
  <tr>    
    <th>Date</th>
    <th>Temperature</td>
    <th>Humidity</td>
  </tr>
</table>


<script>
function myFunction() {
	var temp;
	var hum;	
	var xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	    if (this.readyState == 4 && this.status == 200) {	
	        myObj = JSON.parse(this.responseText);
	        temp = myObj.temperature;
		hum = myObj.humidity;
		document.getElementById("temp").innerHTML = temp; 
		document.getElementById("hum").innerHTML = hum;;
		var table = document.getElementById("dhtTable");
    		var row = table.insertRow(1);
		var cell1 = row.insertCell(0);    		
		var cell2 = row.insertCell(1);
    		var cell3 = row.insertCell(2);
		cell1.innerHTML = new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1");    		
		cell2.innerHTML = temp;
    		cell3.innerHTML = hum;
		if (table.rows.length > 10) {		
			table.deleteRow(10);
		}	
	    }
	};
xmlhttp.open("GET", "http://192.168.8.194", true);
xmlhttp.send();


}
</script>

</body>
</html>

